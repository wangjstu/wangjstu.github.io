<!-- build time:Sun Jul 05 2020 22:51:09 GMT+0800 (中国标准时间) --><!DOCTYPE html><html lang="zh"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no,minimal-ui"><meta name="renderer" content="webkit"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="format-detection" content="telephone=no,email=no,adress=no"><meta name="theme-color" content="#000000"><meta http-equiv="window-target" content="_top"><title>Linux curl handbook | typoway</title><meta name="description" content="简介Linux命令curl 可以被轻松地应用于 web 调试中，它们的好兄弟 wget 也是如此，或者也可以试试更潮的 httpie。本文罗列介绍curl相关知识点，以便更方便的使用。linux curl本文使用的curl版本是：1234[wangjstu@wangjstu ~]$ curl --versioncurl 7.29.0 (x86_64-redhat-linux-gnu) libcur"><meta property="og:type" content="article"><meta property="og:title" content="Linux curl handbook"><meta property="og:url" content="http://wangjstu.github.io/2020/07/05/linux-curl-handbook/index.html"><meta property="og:site_name" content="typoway"><meta property="og:description" content="简介Linux命令curl 可以被轻松地应用于 web 调试中，它们的好兄弟 wget 也是如此，或者也可以试试更潮的 httpie。本文罗列介绍curl相关知识点，以便更方便的使用。linux curl本文使用的curl版本是：1234[wangjstu@wangjstu ~]$ curl --versioncurl 7.29.0 (x86_64-redhat-linux-gnu) libcur"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2020-07-04T16:00:00.000Z"><meta property="article:modified_time" content="2020-07-05T14:32:46.066Z"><meta property="article:author" content="wangjstu"><meta property="article:tag" content="Linux"><meta name="twitter:card" content="summary"><link rel="canonical" href="http://wangjstu.github.io/2020/07/05/linux-curl-handbook/index.html"><link rel="alternate" href="/atom.xml" title="typoway" type="application/atom+xml"><link rel="icon" href="/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1.4.0/dist/gitalk.min.css"><meta name="generator" content="Hexo 4.2.1"></head><body class="main-center theme-black" itemscope itemtype="http://schema.org/WebPage"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="slimContent"><div class="navbar-header"><div class="profile-block text-center"><a id="avatar" href="https://github.com/wangjstu" target="_blank"><img class="img-circle img-rotate" src="/images/avatar.jpg" width="200" height="200"></a><h2 id="name" class="hidden-xs hidden-sm">wangjstu</h2><h3 id="title" class="hidden-xs hidden-sm hidden-md">Web Developer</h3><small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> Hangzhou, China</small></div><div class="search" id="search-form-wrap"><form class="search-form sidebar-form"><div class="input-group"><input type="text" class="search-form-input form-control" placeholder="搜索"> <span class="input-group-btn"><button type="submit" class="search-form-submit btn btn-flat" onclick="return!1"><i class="icon icon-search"></i></button></span></div></form><div class="ins-search"><div class="ins-search-mask"></div><div class="ins-search-container"><div class="ins-input-wrapper"><input type="text" class="ins-search-input" placeholder="想要查找什么..." x-webkit-speech> <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button></div><div class="ins-section-wrapper"><div class="ins-section-container"></div></div></div></div></div><button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false"><span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button></div><nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation"><ul class="nav navbar-nav main-nav"><li class="menu-item menu-item-home"><a href="/."><i class="icon icon-home-fill"></i> <span class="menu-title">首页</span></a></li><li class="menu-item menu-item-archives"><a href="/archives"><i class="icon icon-archives-fill"></i> <span class="menu-title">归档</span></a></li><li class="menu-item menu-item-categories"><a href="/categories"><i class="icon icon-folder"></i> <span class="menu-title">分类</span></a></li><li class="menu-item menu-item-tags"><a href="/tags"><i class="icon icon-tags"></i> <span class="menu-title">标签</span></a></li><li class="menu-item menu-item-books"><a href="/books"><i class="icon icon-book-fill"></i> <span class="menu-title">书单</span></a></li><li class="menu-item menu-item-links"><a href="/links"><i class="icon icon-friendship"></i> <span class="menu-title">友链</span></a></li><li class="menu-item menu-item-about"><a href="/about"><i class="icon icon-cup-fill"></i> <span class="menu-title">关于</span></a></li></ul><ul class="social-links"><li><a href="https://github.com/wangjstu" target="_blank" title="Github" data-toggle="tooltip" data-placement="top"><i class="icon icon-github"></i></a></li><li><a href="http://weibo.com/HOT_IDEAL" target="_blank" title="Weibo" data-toggle="tooltip" data-placement="top"><i class="icon icon-weibo"></i></a></li><li><a href="/atom.xml" target="_blank" title="Rss" data-toggle="tooltip" data-placement="top"><i class="icon icon-rss"></i></a></li></ul></nav></div></header><aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar"><div class="slimContent"><div class="widget"><h3 class="widget-title">公告</h3><div class="widget-body"><div id="board"><div class="content"><p>欢迎交流与分享经验!</p></div></div></div></div><div class="widget"><h3 class="widget-title">分类</h3><div class="widget-body"><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Hexo/">Hexo</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><span class="category-list-count">1</span></li></ul></div></div><div class="widget"><h3 class="widget-title">标签</h3><div class="widget-body"><ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hexo/" rel="tag">Hexo</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/" rel="tag">Linux</a><span class="tag-list-count">1</span></li></ul></div></div><div class="widget"><h3 class="widget-title">标签云</h3><div class="widget-body tagcloud"><a href="/tags/Hexo/" style="font-size:14px">Hexo</a> <a href="/tags/Linux/" style="font-size:13px">Linux</a></div></div><div class="widget"><h3 class="widget-title">归档</h3><div class="widget-body"><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">七月 2020</a><span class="archive-list-count">3</span></li></ul></div></div><div class="widget"><h3 class="widget-title">最新文章</h3><div class="widget-body"><ul class="recent-post-list list-unstyled no-thumbnail"><li><div class="item-inner"><p class="item-category"><a class="category-link" href="/categories/Hexo/">Hexo</a></p><p class="item-title"><a href="/2020/07/05/hello-hexo-blog/" class="title">hexo blog 创建指导手册</a></p><p class="item-date"><time datetime="2020-07-05T14:20:21.000Z" itemprop="datePublished">2020-07-05</time></p></div></li><li><div class="item-inner"><p class="item-category"><a class="category-link" href="/categories/Hexo/">Hexo</a></p><p class="item-title"><a href="/2020/07/05/hello-world/" class="title">Hello World</a></p><p class="item-date"><time datetime="2020-07-05T14:14:23.668Z" itemprop="datePublished">2020-07-05</time></p></div></li><li><div class="item-inner"><p class="item-category"><a class="category-link" href="/categories/Linux/">Linux</a></p><p class="item-title"><a href="/2020/07/05/linux-curl-handbook/" class="title">Linux curl handbook</a></p><p class="item-date"><time datetime="2020-07-04T16:00:00.000Z" itemprop="datePublished">2020-07-05</time></p></div></li></ul></div></div></div></aside><aside class="sidebar sidebar-toc collapse" id="collapseToc" itemscope itemtype="http://schema.org/WPSideBar"><div class="slimContent"><nav id="toc" class="article-toc"><h3 class="toc-title">文章目录</h3><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#简介"><span class="toc-number">1.</span> <span class="toc-text">简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#linux-curl"><span class="toc-number">2.</span> <span class="toc-text">linux curl</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Linux-curl-帮助文档："><span class="toc-number">2.1.</span> <span class="toc-text">Linux curl 帮助文档：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#命令速记-译"><span class="toc-number">3.</span> <span class="toc-text">命令速记[]</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#基础案例"><span class="toc-number">3.1.</span> <span class="toc-text">基础案例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#下载保存到文件-Download-to-a-File"><span class="toc-number">3.2.</span> <span class="toc-text">下载保存到文件(Download to a File)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#使用普通认证-账号密码-Using-Passwords"><span class="toc-number">3.3.</span> <span class="toc-text">使用普通认证(账号密码 Using Passwords)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#代理-proxy"><span class="toc-number">3.4.</span> <span class="toc-text">代理(proxy)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#断点续传-Ranges"><span class="toc-number">3.5.</span> <span class="toc-text">断点续传(Ranges)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#上传文件-Uploading-FTP-FTPS-SFTP-SCP-HTTP"><span class="toc-number">3.6.</span> <span class="toc-text">上传文件(Uploading[FTP&#x2F;FTPS&#x2F;SFTP&#x2F;SCP&#x2F;HTTP])</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#debug追踪-Verbose-Debug"><span class="toc-number">3.7.</span> <span class="toc-text">debug追踪(Verbose &#x2F; Debug)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#查看返回头信息-Detailed-Information"><span class="toc-number">3.8.</span> <span class="toc-text">查看返回头信息(Detailed Information)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#POST-HTTP"><span class="toc-number">3.9.</span> <span class="toc-text">POST(HTTP)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Referrer"><span class="toc-number">3.10.</span> <span class="toc-text">Referrer</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#客户端请求标志头信息-User-Agent"><span class="toc-number">3.11.</span> <span class="toc-text">客户端请求标志头信息(User Agent)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Cookies"><span class="toc-number">3.12.</span> <span class="toc-text">Cookies</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#进度信息-Progress-Meter"><span class="toc-number">3.13.</span> <span class="toc-text">进度信息(Progress Meter)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#限速请求-Speed-Limit"><span class="toc-number">3.14.</span> <span class="toc-text">限速请求(Speed Limit)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#配置信息-Config-File"><span class="toc-number">3.15.</span> <span class="toc-text">配置信息(Config File)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#头信息-Extra-Headers"><span class="toc-number">3.16.</span> <span class="toc-text">头信息(Extra Headers)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#FTP-and-Path-Names"><span class="toc-number">3.17.</span> <span class="toc-text">FTP and Path Names</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SFTP-and-SCP-and-Path-Names"><span class="toc-number">3.18.</span> <span class="toc-text">SFTP and SCP and Path Names</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#FTP-and-Firewalls"><span class="toc-number">3.19.</span> <span class="toc-text">FTP and Firewalls</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Network-Interface"><span class="toc-number">3.20.</span> <span class="toc-text">Network Interface</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HTTPS"><span class="toc-number">3.21.</span> <span class="toc-text">HTTPS</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#持续传输-Resuming-File-Transfers"><span class="toc-number">3.22.</span> <span class="toc-text">持续传输(Resuming File Transfers)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Time-Conditions"><span class="toc-number">3.23.</span> <span class="toc-text">Time Conditions</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DICT"><span class="toc-number">3.24.</span> <span class="toc-text">DICT</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#轻量目录访问协议-LDAP"><span class="toc-number">3.25.</span> <span class="toc-text">轻量目录访问协议(LDAP)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#环境变量-Environment-Variables"><span class="toc-number">3.26.</span> <span class="toc-text">环境变量(Environment Variables)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#netrc"><span class="toc-number">3.27.</span> <span class="toc-text">netrc</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#自定义输出-Custom-Output"><span class="toc-number">3.28.</span> <span class="toc-text">自定义输出(Custom Output)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Kerberos-FTP传输"><span class="toc-number">3.29.</span> <span class="toc-text">Kerberos FTP传输</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TELNET"><span class="toc-number">3.30.</span> <span class="toc-text">TELNET</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#持久连接-Persistent-Connections"><span class="toc-number">3.31.</span> <span class="toc-text">持久连接(Persistent Connections)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#单命令多请求-Multiple-Transfers-With-A-Single-Command-Line"><span class="toc-number">3.32.</span> <span class="toc-text">单命令多请求(Multiple Transfers With A Single Command Line)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#IPv6"><span class="toc-number">3.33.</span> <span class="toc-text">IPv6</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Metalink"><span class="toc-number">3.34.</span> <span class="toc-text">Metalink</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#常见问题记"><span class="toc-number">4.</span> <span class="toc-text">常见问题记</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#官方常见问题"><span class="toc-number">4.1.</span> <span class="toc-text">官方常见问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#F与-d区别"><span class="toc-number">4.2.</span> <span class="toc-text">-F与-d区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#PUT-请求如何发"><span class="toc-number">4.3.</span> <span class="toc-text">PUT 请求如何发</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#http2-http3如何发请求"><span class="toc-number">4.4.</span> <span class="toc-text">http2 http3如何发请求</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#curl-HTTP-cheat-sheet"><span class="toc-number">4.5.</span> <span class="toc-text">curl HTTP cheat sheet</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#参考文档"><span class="toc-number">5.</span> <span class="toc-text">参考文档:</span></a></li></ol></nav></div></aside><main class="main" role="main"><div class="content"><article id="post-linux-curl-handbook" class="article article-type-post" itemscope itemtype="http://schema.org/BlogPosting"><div class="article-header"><h1 class="article-title" itemprop="name">Linux curl handbook</h1><div class="article-meta"><span class="article-date"><i class="icon icon-calendar-check"></i> <a href="/2020/07/05/linux-curl-handbook/" class="article-date"><time datetime="2020-07-04T16:00:00.000Z" itemprop="datePublished">2020-07-05</time></a></span> <span class="article-category"><i class="icon icon-folder"></i> <a class="article-category-link" href="/categories/Linux/">Linux</a></span> <span class="article-tag"><i class="icon icon-tags"></i> <a class="article-tag-link" href="/tags/Linux/" rel="tag">Linux</a></span> <span class="post-comment"><i class="icon icon-comment"></i> <a href="/2020/07/05/linux-curl-handbook/#comments" class="article-comment-link">评论</a></span> <span class="post-wordcount hidden-xs" itemprop="wordCount">字数统计: 8.9k(字)</span> <span class="post-readcount hidden-xs" itemprop="timeRequired">阅读时长: 42(分)</span></div></div><div class="article-entry marked-body" itemprop="articleBody"><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>Linux命令<code>curl</code> 可以被轻松地应用于 web 调试中，它们的好兄弟 wget 也是如此，或者也可以试试更潮的 httpie。本文罗列介绍<code>curl</code>相关知识点，以便更方便的使用。</p><h2 id="linux-curl"><a href="#linux-curl" class="headerlink" title="linux curl"></a>linux curl</h2><p>本文使用的curl版本是：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[wangjstu@wangjstu ~]$ curl --version</span><br><span class="line">curl 7.29.0 (x86_64-redhat-linux-gnu) libcurl&#x2F;7.29.0 NSS&#x2F;3.28.4 zlib&#x2F;1.2.7 libidn&#x2F;1.28 libssh2&#x2F;1.4.3</span><br><span class="line">Protocols: dict file ftp ftps gopher http https imap imaps ldap ldaps pop3 pop3s rtsp scp sftp smtp smtps telnet tftp </span><br><span class="line">Features: AsynchDNS GSS-Negotiate IDN IPv6 Largefile NTLM NTLM_WB SSL libz unix-sockets</span><br></pre></td></tr></table></figure><h3 id="Linux-curl-帮助文档："><a href="#Linux-curl-帮助文档：" class="headerlink" title="Linux curl 帮助文档："></a>Linux curl 帮助文档：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br></pre></td><td class="code"><pre><span class="line">[wangjstu@wangjstu ~]$ curl --help</span><br><span class="line">Usage: curl [options...] &lt;url&gt;</span><br><span class="line">&#x2F;&#x2F;语法：curl [options] [url]</span><br><span class="line">Options: (H) means HTTP&#x2F;HTTPS only, (F) means FTP only</span><br><span class="line">&#x2F;&#x2F;PS: 以下Options中，后面是 (H) 表示只给 HTTP&#x2F;HTTPS 使用, (F) 表示只给 FTP 使用</span><br><span class="line">     --anyauth       Pick &quot;any&quot; authentication method (H)</span><br><span class="line">     &#x2F;&#x2F;--anyauth     选择 &quot;any&quot; 认证方法 (HTTP&#x2F;HTTPS可用)</span><br><span class="line"> -a, --append        Append to target file when uploading (F&#x2F;SFTP)</span><br><span class="line"> &#x2F;&#x2F;-a, --append		上传文件时，附加到目标文件 (FTP&#x2F;SFTP可用)</span><br><span class="line">     --basic         Use HTTP Basic Authentication (H)</span><br><span class="line">     &#x2F;&#x2F;--basic		使用HTTP基础认证（参见文章末尾参考:HTTP Authentication）(HTTP&#x2F;HTTPS可用)</span><br><span class="line">     --cacert FILE   CA certificate to verify peer against (SSL)</span><br><span class="line">     &#x2F;&#x2F;--cacert FILE  CA 证书，用于每次请求认证 (SSL)</span><br><span class="line">     --capath DIR    CA directory to verify peer against (SSL)</span><br><span class="line">     &#x2F;&#x2F;--capath DIR  CA 证书目录，用于每次请求认证 (SSL)</span><br><span class="line"> -E, --cert CERT[:PASSWD] Client certificate file and password (SSL)</span><br><span class="line"> &#x2F;&#x2F;-E, --cert CERT[:PASSWD] 客户端证书文件及密码 (SSL)</span><br><span class="line">     --cert-type TYPE Certificate file type (DER&#x2F;PEM&#x2F;ENG) (SSL)</span><br><span class="line">     &#x2F;&#x2F;--cert-type 证书文件类型 (DER&#x2F;PEM&#x2F;ENG) (SSL)</span><br><span class="line">     --ciphers LIST  SSL ciphers to use (SSL)</span><br><span class="line">     &#x2F;&#x2F;--ciphers LIST  SSL 秘钥 (SSL)</span><br><span class="line">     --compressed    Request compressed response (using deflate or gzip)</span><br><span class="line">     &#x2F;&#x2F;--compressed    请求压缩响应 (使用 deflate 或 gzip)</span><br><span class="line"> -K, --config FILE   Specify which config file to read</span><br><span class="line"> &#x2F;&#x2F;-K, --config FILE  指定配置文件</span><br><span class="line">     --connect-timeout SECONDS  Maximum time allowed for connection</span><br><span class="line">     &#x2F;&#x2F;--connect-timeout SECONDS  连接超时设置</span><br><span class="line"> -C, --continue-at OFFSET  Resumed transfer offset</span><br><span class="line"> &#x2F;&#x2F;-C, --continue-at OFFSET 断点续传请求传输偏移量</span><br><span class="line"> -b, --cookie STRING&#x2F;FILE  String or file to read cookies from (H)</span><br><span class="line"> &#x2F;&#x2F;-b, --cookie STRING&#x2F;FILE  设置请求头中Cookies，内容为后面传的字符串或从文件中读取的内容 (HTTP&#x2F;HTTPS可用)</span><br><span class="line"> -c, --cookie-jar FILE  Write cookies to this file after operation (H)</span><br><span class="line"> &#x2F;&#x2F;-c, --cookie-jar FILE  请求完成后，返回头中 Cookies 值写入的文件位置 (HTTP&#x2F;HTTPS可用)</span><br><span class="line">     --create-dirs   Create necessary local directory hierarchy</span><br><span class="line">     &#x2F;&#x2F;--create-dirs   创建必要的本地目录层次结构</span><br><span class="line">     --crlf          Convert LF to CRLF in upload</span><br><span class="line">     &#x2F;&#x2F;--crlf        在上传时将 LF 转写为 CRLF</span><br><span class="line">     --crlfile FILE  Get a CRL list in PEM format from the given file</span><br><span class="line">     &#x2F;&#x2F;--crlfile FILE  从指定的文件获得PEM格式CRL列表</span><br><span class="line"> -d, --data DATA     HTTP POST data (H)</span><br><span class="line"> &#x2F;&#x2F;-d, --data DATA     http post请求数据 (HTTP&#x2F;HTTPS可用)</span><br><span class="line">     --data-ascii DATA  HTTP POST ASCII data (H)</span><br><span class="line">     &#x2F;&#x2F;--data-ascii DATA  ASCII编码HTTP POST数据 (HTTP&#x2F;HTTPS可用)</span><br><span class="line">     --data-binary DATA  HTTP POST binary data (H)</span><br><span class="line">     &#x2F;&#x2F;--data-binary DATA  binary 编码HTTP POST数据 (HTTP&#x2F;HTTPS可用)</span><br><span class="line">     --data-urlencode DATA  HTTP POST data url encoded (H)</span><br><span class="line">     &#x2F;&#x2F;--data-urlencode DATA  url 编码 HTTP POST 数据 (HTTP&#x2F;HTTPS可用)</span><br><span class="line">     --delegation STRING GSS-API delegation permission</span><br><span class="line">     &#x2F;&#x2F;--delegation STRING GSS-API 授权权限</span><br><span class="line">     --digest        Use HTTP Digest Authentication (H)</span><br><span class="line">     &#x2F;&#x2F;--digest        使用HTTP Digest身份验证（参见文章末尾参考:HTTP Authentication）(HTTP&#x2F;HTTPS可用)</span><br><span class="line">     --disable-eprt  Inhibit using EPRT or LPRT (F)</span><br><span class="line">     &#x2F;&#x2F;--disable-eprt  禁用EPRT或LPRT (FTP可用)</span><br><span class="line">     --disable-epsv  Inhibit using EPSV (F)</span><br><span class="line">     &#x2F;&#x2F;--disable-epsv  禁用EPSV (FTP可用)</span><br><span class="line"> -D, --dump-header FILE  Write the headers to this file</span><br><span class="line"> &#x2F;&#x2F;-D, --dump-header FILE  将请求返回头信息写入指定的文件</span><br><span class="line">     --egd-file FILE  EGD socket path for random data (SSL)</span><br><span class="line">     &#x2F;&#x2F;--egd-file FILE  为随机数据(SSL)设置EGD socket路径</span><br><span class="line">     --engine ENGINGE  Crypto engine (SSL). &quot;--engine list&quot; for list</span><br><span class="line">     &#x2F;&#x2F;--engine ENGINGE  SSL加密引擎类型，使用&quot;--engine list&quot;获取可用类型 </span><br><span class="line"> -f, --fail          Fail silently (no output at all) on HTTP errors (H)</span><br><span class="line"> &#x2F;&#x2F;-f, --fail        连接失败时不显示HTTP错误详细信息，以curl错误显示 (HTTP&#x2F;HTTPS可用)</span><br><span class="line"> -F, --form CONTENT  Specify HTTP multipart POST data (H)</span><br><span class="line"> &#x2F;&#x2F;-F, --form CONTENT  模拟 HTTP 表单数据提交（multipart POST） (HTTP&#x2F;HTTPS可用)</span><br><span class="line">     --form-string STRING  Specify HTTP multipart POST data (H)</span><br><span class="line">     &#x2F;&#x2F;--form-string STRING  模拟 HTTP 表单数据提交 (HTTP&#x2F;HTTPS可用)</span><br><span class="line">     --ftp-account DATA  Account data string (F)</span><br><span class="line">     &#x2F;&#x2F;--ftp-account DATA  ftp帐户数据提交 (F)</span><br><span class="line">     --ftp-alternative-to-user COMMAND  String to replace &quot;USER [name]&quot; (F)</span><br><span class="line">     &#x2F;&#x2F;--ftp-alternative-to-user COMMAND  指定替换 &quot;USER [name]&quot; 的字符串 (F)</span><br><span class="line">     --ftp-create-dirs  Create the remote dirs if not present (F)</span><br><span class="line">     &#x2F;&#x2F;--ftp-create-dirs   如果远程不存相关目录，在则创建远程对应目录 (F)</span><br><span class="line">     --ftp-method [MULTICWD&#x2F;NOCWD&#x2F;SINGLECWD] Control CWD usage (F)</span><br><span class="line">     &#x2F;&#x2F;--ftp-method [MULTICWD&#x2F;NOCWD&#x2F;SINGLECWD] 控制 CWD (F)</span><br><span class="line">     --ftp-pasv      Use PASV&#x2F;EPSV instead of PORT (F)</span><br><span class="line">     &#x2F;&#x2F;--ftp-pasv     使用 PASV&#x2F;EPSV 替换 PORT (F)</span><br><span class="line"> -P, --ftp-port ADR  Use PORT with given address instead of PASV (F)</span><br><span class="line"> &#x2F;&#x2F;-P, --ftp-port ADR  使用指定 PORT 及地址替换 PASV (F).使用端口地址，而不是使用PASV.</span><br><span class="line">     --ftp-skip-pasv-ip Skip the IP address for PASV (F)</span><br><span class="line">     &#x2F;&#x2F;--ftp-skip-pasv-ip 跳过 PASV 的IP地址 (F)</span><br><span class="line">     --ftp-pret      Send PRET before PASV (for drftpd) (F)</span><br><span class="line">     &#x2F;&#x2F;--ftp-pret      在 PASV 之前发送 PRET (drftpd) (F)</span><br><span class="line">     --ftp-ssl-ccc   Send CCC after authenticating (F)</span><br><span class="line">     &#x2F;&#x2F;--ftp-ssl-ccc   认证之后发送 CCC (F)</span><br><span class="line">     --ftp-ssl-ccc-mode ACTIVE&#x2F;PASSIVE  Set CCC mode (F)</span><br><span class="line">     &#x2F;&#x2F;--ftp-ssl-ccc-mode  ACTIVE&#x2F;PASSIVE  设置 CCC 模式 (F)</span><br><span class="line">     --ftp-ssl-control Require SSL&#x2F;TLS for ftp login, clear for transfer (F)</span><br><span class="line">     &#x2F;&#x2F;--ftp-ssl-control  登录时需要 SSL&#x2F;TLS (F)</span><br><span class="line"> -G, --get           Send the -d data with a HTTP GET (H)</span><br><span class="line"> &#x2F;&#x2F;-G, --get           使用 HTTP GET 方法发送 -d 数据  (HTTP&#x2F;HTTPS可用)</span><br><span class="line"> -g, --globoff       Disable URL sequences and ranges using &#123;&#125; and []</span><br><span class="line"> &#x2F;&#x2F;-g, --globoff       禁用的 URL 队列 及范围使用 &#123;&#125; 和 []</span><br><span class="line"> -H, --header LINE   Custom header to pass to server (H)</span><br><span class="line"> &#x2F;&#x2F;-H, --header LINE   http请求服务端的自定义请求头 (HTTP&#x2F;HTTPS可用)</span><br><span class="line"> -I, --head          Show document info only</span><br><span class="line"> &#x2F;&#x2F;-I, --head          仅显示返回响应文档头</span><br><span class="line"> -h, --help          This help text</span><br><span class="line"> &#x2F;&#x2F;-h, --help          显示帮助文档</span><br><span class="line">     --hostpubmd5 MD5  Hex encoded MD5 string of the host public key. (SSH)</span><br><span class="line">     &#x2F;&#x2F;--hostpubmd5 MD5  将主机公钥的MD5字符串转为十六进制编码。（SSH）</span><br><span class="line"> -0, --http1.0       Use HTTP 1.0 (H)</span><br><span class="line"> &#x2F;&#x2F;-0, --http1.0       使用 HTTP 1.0 (H)</span><br><span class="line">     --ignore-content-length  Ignore the HTTP Content-Length header</span><br><span class="line">     &#x2F;&#x2F;--ignore-content-length  忽略 HTTP Content-Length 头</span><br><span class="line"> -i, --include       Include protocol headers in the output (H&#x2F;F)</span><br><span class="line"> &#x2F;&#x2F;-i, --include       在输出中包含响应协议头 (H&#x2F;F)</span><br><span class="line"> -k, --insecure      Allow connections to SSL sites without certs (H)</span><br><span class="line"> &#x2F;&#x2F;-k, --insecure      允许连接到 SSL 站点，而不使用证书 (H)</span><br><span class="line">     --interface INTERFACE  Specify network interface&#x2F;address to use</span><br><span class="line">     &#x2F;&#x2F;--interface INTERFACE  指定网络接口／地址</span><br><span class="line"> -4, --ipv4          Resolve name to IPv4 address</span><br><span class="line"> &#x2F;&#x2F;-4, --ipv4          将域名解析为 IPv4 地址</span><br><span class="line"> -6, --ipv6          Resolve name to IPv6 address</span><br><span class="line"> -6, --ipv6          将域名解析为 IPv6 地址</span><br><span class="line"> -j, --junk-session-cookies Ignore session cookies read from file (H)</span><br><span class="line"> &#x2F;&#x2F;-j, --junk-session-cookies 忽略从文件读取的会话cookie</span><br><span class="line">     --keepalive-time SECONDS  Interval between keepalive probes</span><br><span class="line">     &#x2F;&#x2F;--keepalive-time SECONDS  keepalive 包间隔</span><br><span class="line">     --key KEY       Private key file name (SSL&#x2F;SSH)</span><br><span class="line">     &#x2F;&#x2F;--key KEY       私钥文件名 (SSL&#x2F;SSH)</span><br><span class="line">     --key-type TYPE Private key file type (DER&#x2F;PEM&#x2F;ENG) (SSL)</span><br><span class="line">     &#x2F;&#x2F;--key-type TYPE   私钥文件类型 (DER&#x2F;PEM&#x2F;ENG) (SSL)</span><br><span class="line">     --krb LEVEL     Enable Kerberos with specified security level (F)</span><br><span class="line">     &#x2F;&#x2F;--krb LEVEL     启用指定安全级别的 Kerberos (F)</span><br><span class="line">     --libcurl FILE  Dump libcurl equivalent code of this command line</span><br><span class="line">     &#x2F;&#x2F;--libcurl FILE  转储此命令行的libcurl等效代码</span><br><span class="line">     --limit-rate RATE  Limit transfer speed to this rate</span><br><span class="line">     &#x2F;&#x2F;--limit-rate RATE  限制传输速度</span><br><span class="line"> -l, --list-only     List only names of an FTP directory (F)</span><br><span class="line"> &#x2F;&#x2F;-l, --list-only     只列出FTP目录的名称 (FTP)</span><br><span class="line">     --local-port RANGE  Force use of these local port numbers</span><br><span class="line">     &#x2F;&#x2F;--local-port RANGE  强制使用的本地端口号</span><br><span class="line"> -L, --location      Follow redirects (H)</span><br><span class="line"> &#x2F;&#x2F;-L, --location      跟踪重定向 (H)</span><br><span class="line">     --location-trusted like --location and send auth to other hosts (H)</span><br><span class="line">     &#x2F;&#x2F;--location-trusted  类似 --location 并发送验证信息到其它主机 (H)</span><br><span class="line"> -M, --manual        Display the full manual</span><br><span class="line"> &#x2F;&#x2F;-M, --manual        显示详细帮助文档</span><br><span class="line">     --mail-from FROM  Mail from this address</span><br><span class="line">     &#x2F;&#x2F;--mail-from FROM  设置邮件发送源地址</span><br><span class="line">     --mail-rcpt TO  Mail to this receiver(s)</span><br><span class="line">     &#x2F;&#x2F;--mail-rcpt TO  设置邮件收件人(可用多人)</span><br><span class="line">     --mail-auth AUTH  Originator address of the original email</span><br><span class="line">     &#x2F;&#x2F;--mail-auth AUTH  原始电子邮件的发起人地址</span><br><span class="line">     --max-filesize BYTES  Maximum file size to download (H&#x2F;F)</span><br><span class="line">     &#x2F;&#x2F;--max-filesize BYTES  下载文件大小上限 (H&#x2F;F)</span><br><span class="line">     --max-redirs NUM  Maximum number of redirects allowed (H)</span><br><span class="line">     &#x2F;&#x2F;--max-redirs NUM  最大重定向数 (H)</span><br><span class="line"> -m, --max-time SECONDS  Maximum time allowed for the transfer</span><br><span class="line"> &#x2F;&#x2F;-m, --max-time SECONDS  允许的最多传输时间</span><br><span class="line">     --metalink      Process given URLs as metalink XML file</span><br><span class="line">     &#x2F;&#x2F;--metalink      将给定的URL作为metalink xml文件处理</span><br><span class="line">     --negotiate     Use HTTP Negotiate Authentication (H)</span><br><span class="line">     &#x2F;&#x2F;--negotiate    使用HTTP协商身份验证（参见文章末尾参考:HTTP Authentication）(HTTP&#x2F;HTTPS可用)</span><br><span class="line"> -n, --netrc         Must read .netrc for user name and password</span><br><span class="line"> &#x2F;&#x2F;-n, --netrc         必须从 .netrc 文件读取用户名和密码</span><br><span class="line">     --netrc-optional Use either .netrc or URL; overrides -n</span><br><span class="line">     &#x2F;&#x2F;--netrc-optional 使用 .netrc 或 URL; 将重写 -n 参数</span><br><span class="line">     --netrc-file FILE  Set up the netrc filename to use</span><br><span class="line">     &#x2F;&#x2F;--netrc-file FILE  设置要使用的 netrc 文件名</span><br><span class="line"> -N, --no-buffer     Disable buffering of the output stream</span><br><span class="line"> &#x2F;&#x2F;-N, --no-buffer     禁用输出流的缓存</span><br><span class="line">     --no-keepalive  Disable keepalive use on the connection</span><br><span class="line">     &#x2F;&#x2F;--no-keepalive  禁用 connection 的 keepalive</span><br><span class="line">     --no-sessionid  Disable SSL session-ID reusing (SSL)</span><br><span class="line">     &#x2F;&#x2F;--no-sessionid  禁止重复使用 SSL session-ID (SSL)</span><br><span class="line">     --noproxy       List of hosts which do not use proxy</span><br><span class="line">     &#x2F;&#x2F;--noproxy       不使用代理的主机列表</span><br><span class="line">     --ntlm          Use HTTP NTLM authentication (H)</span><br><span class="line">     &#x2F;&#x2F;--ntlm          使用HTTP NTLM验证（参见文章末尾参考:HTTP Authentication）(HTTP&#x2F;HTTPS可用)</span><br><span class="line"> -o, --output FILE   Write output to &lt;file&gt; instead of stdout</span><br><span class="line"> &#x2F;&#x2F;-o, --output FILE   将输出写入文件，而非 stdout</span><br><span class="line">     --pass PASS     Pass phrase for the private key (SSL&#x2F;SSH)</span><br><span class="line">     &#x2F;&#x2F;--pass PASS     传递给私钥的短语 (SSL&#x2F;SSH)</span><br><span class="line">     --post301       Do not switch to GET after following a 301 redirect (H)</span><br><span class="line">     &#x2F;&#x2F;--post301       在 301 重定向后不要切换为 GET 请求 (HTTP&#x2F;HTTPS可用)</span><br><span class="line">     --post302       Do not switch to GET after following a 302 redirect (H)</span><br><span class="line">     &#x2F;&#x2F;--post302       在 302 重定向后不要切换为 GET 请求 (HTTP&#x2F;HTTPS可用)</span><br><span class="line">     --post303       Do not switch to GET after following a 303 redirect (H)</span><br><span class="line">     &#x2F;&#x2F;--post303       在 303 重定向后不要切换为 GET 请求 (HTTP&#x2F;HTTPS可用)</span><br><span class="line"> -#, --progress-bar  Display transfer progress as a progress bar</span><br><span class="line"> &#x2F;&#x2F;-#, --progress-bar  以进度条显示传输进度</span><br><span class="line">     --proto PROTOCOLS  Enable&#x2F;disable specified protocols</span><br><span class="line">     &#x2F;&#x2F;--proto PROTOCOLS  启用&#x2F;禁用 指定的协议</span><br><span class="line">     --proto-redir PROTOCOLS  Enable&#x2F;disable specified protocols on redirect</span><br><span class="line">     &#x2F;&#x2F;--proto-redir PROTOCOLS  在重定向上 启用&#x2F;禁用 指定的协议</span><br><span class="line"> -x, --proxy [PROTOCOL:&#x2F;&#x2F;]HOST[:PORT] Use proxy on given port</span><br><span class="line"> &#x2F;&#x2F;-x, --proxy [PROTOCOL:&#x2F;&#x2F;]HOST[:PORT]  指定代理端口及地址</span><br><span class="line">     --proxy-anyauth Pick &quot;any&quot; proxy authentication method (H)</span><br><span class="line">     &#x2F;&#x2F;--proxy-anyauth 在代理上使用 &quot;any&quot; 认证方法 (HTTP&#x2F;HTTPS可用)</span><br><span class="line">     --proxy-basic   Use Basic authentication on the proxy (H)</span><br><span class="line">     &#x2F;&#x2F;--proxy-basic   在代理上使用 Basic 认证  (HTTP&#x2F;HTTPS可用)</span><br><span class="line">     --proxy-digest  Use Digest authentication on the proxy (H)</span><br><span class="line">     &#x2F;&#x2F;--proxy-digest  在代理上使用 Digest 认证 (HTTP&#x2F;HTTPS可用)</span><br><span class="line">     --proxy-negotiate Use Negotiate authentication on the proxy (H)</span><br><span class="line">     &#x2F;&#x2F;--proxy-negotiate 在代理上使用 Negotiate 认证 (HTTP&#x2F;HTTPS可用)</span><br><span class="line">     --proxy-ntlm    Use NTLM authentication on the proxy (H)</span><br><span class="line">     &#x2F;&#x2F;--proxy-ntlm    在代理上使用 NTLM 认证 (HTTP&#x2F;HTTPS可用)</span><br><span class="line"> -U, --proxy-user USER[:PASSWORD]  Proxy user and password</span><br><span class="line"> &#x2F;&#x2F;-U, --proxy-user USER[:PASSWORD]  代理用户名及密码</span><br><span class="line">     --proxy1.0 HOST[:PORT]  Use HTTP&#x2F;1.0 proxy on given port</span><br><span class="line">     &#x2F;&#x2F;--proxy1.0 HOST[:PORT]  使用指定地址及端口的HTTP&#x2F;1.0的代理</span><br><span class="line"> -p, --proxytunnel   Operate through a HTTP proxy tunnel (using CONNECT)</span><br><span class="line"> &#x2F;&#x2F;-p, --proxytunnel   使用HTTP代理隧道 (用于 CONNECT)</span><br><span class="line">     --pubkey KEY    Public key file name (SSH)</span><br><span class="line">     &#x2F;&#x2F;--pubkey KEY    指定请求的公钥文件名</span><br><span class="line"> -Q, --quote CMD     Send command(s) to server before transfer (F&#x2F;SFTP)</span><br><span class="line"> &#x2F;&#x2F;-Q, --quote CMD     在传输开始前向服务器发送命令 (F&#x2F;SFTP)</span><br><span class="line">     --random-file FILE  File for reading random data from (SSL)</span><br><span class="line">     &#x2F;&#x2F;--random-file FILE  设置读取随机数据的文件 (SSL)</span><br><span class="line"> -r, --range RANGE   Retrieve only the bytes within a range</span><br><span class="line"> &#x2F;&#x2F;-r, --range RANGE   仅检索范围内的字节</span><br><span class="line">     --raw           Do HTTP &quot;raw&quot;, without any transfer decoding (H)</span><br><span class="line">     &#x2F;&#x2F;--raw           使用原始HTTP传输，而不使用编码 (HTTP&#x2F;HTTPS可用)</span><br><span class="line"> -e, --referer       Referer URL (H)</span><br><span class="line"> &#x2F;&#x2F;-e, --referer       Referer URL (HTTP&#x2F;HTTPS可用)</span><br><span class="line"> -J, --remote-header-name Use the header-provided filename (H)</span><br><span class="line"> &#x2F;&#x2F;-J, --remote-header-name 从远程文件读取头信息 (HTTP&#x2F;HTTPS可用)</span><br><span class="line"> -O, --remote-name   Write output to a file named as the remote file</span><br><span class="line"> &#x2F;&#x2F;-O, --remote-name   请求远程文件时，将请求返回内容以远程文件名保存到本地，如果没有则报错</span><br><span class="line">     --remote-name-all Use the remote file name for all URLs</span><br><span class="line">     &#x2F;&#x2F;--remote-name-all  将请求的URL设置为请求远程文件名</span><br><span class="line"> -R, --remote-time   Set the remote file&#39;s time on the local output</span><br><span class="line"> &#x2F;&#x2F;-R, --remote-time   将远程文件的时间设置在本地输出上</span><br><span class="line"> -X, --request COMMAND  Specify request command to use</span><br><span class="line"> &#x2F;&#x2F;-X, --request COMMAND  使用指定的请求方法(GET POST等)</span><br><span class="line">     --resolve HOST:PORT:ADDRESS  Force resolve of HOST:PORT to ADDRESS</span><br><span class="line">     &#x2F;&#x2F;--resolve HOST:PORT:ADDRESS  强制设置请求头中的HOST为对应的ip地址+端口</span><br><span class="line">     --retry NUM   Retry request NUM times if transient problems occur</span><br><span class="line">     &#x2F;&#x2F;--retry NUM   出现问题时的重试次数</span><br><span class="line">     --retry-delay SECONDS When retrying, wait this many seconds between each</span><br><span class="line">     &#x2F;&#x2F;--retry-delay SECONDS 重试时的间隔时长</span><br><span class="line">     --retry-max-time SECONDS  Retry only within this period</span><br><span class="line">     &#x2F;&#x2F;--retry-max-time SECONDS  仅在指定时间段内重试</span><br><span class="line"> -S, --show-error    Show error. With -s, make curl show errors when they occur</span><br><span class="line"> &#x2F;&#x2F;-S, --show-error    显示错误. 在选项 -s 中，当 curl 出现错误时将显示</span><br><span class="line"> -s, --silent        Silent mode. Don&#39;t output anything</span><br><span class="line"> &#x2F;&#x2F;-s, --silent        Silent模式。不输出任务内容</span><br><span class="line">     --socks4 HOST[:PORT]  SOCKS4 proxy on given host + port</span><br><span class="line">     &#x2F;&#x2F;--socks4 HOST[:PORT]  使用指定的 host + port 作为 SOCKS4 代理</span><br><span class="line">     --socks4a HOST[:PORT]  SOCKS4a proxy on given host + port</span><br><span class="line">     &#x2F;&#x2F;--socks4a HOST[:PORT]  使用指定的 host + port 作为 socks4a 代理</span><br><span class="line">     --socks5 HOST[:PORT]  SOCKS5 proxy on given host + port</span><br><span class="line">     &#x2F;&#x2F;--socks5 HOST[:PORT]  使用指定的 host + port 作为 socks5 代理</span><br><span class="line">     --socks5-hostname HOST[:PORT] SOCKS5 proxy, pass host name to proxy</span><br><span class="line">     &#x2F;&#x2F;--socks5-hostname HOST[:PORT]  通过对应的hostname(地址+端口)实现SOCKS5代理</span><br><span class="line">     --socks5-gssapi-service NAME  SOCKS5 proxy service name for gssapi</span><br><span class="line">     &#x2F;&#x2F;--socks5-gssapi-service NAME  SOCKS5代理GSSAPI服务名称</span><br><span class="line">     --socks5-gssapi-nec  Compatibility with NEC SOCKS5 server</span><br><span class="line">     &#x2F;&#x2F;--socks5-gssapi-nec  与NEC Socks5服务器兼容</span><br><span class="line"> -Y, --speed-limit RATE  Stop transfers below speed-limit for &#39;speed-time&#39; secs</span><br><span class="line"> &#x2F;&#x2F;-Y, --speed-limit RATE  在指定限速情况下，指定相应时间之后停止传输</span><br><span class="line"> -y, --speed-time SECONDS  Time for trig speed-limit abort. Defaults to 30</span><br><span class="line"> &#x2F;&#x2F;-y, --speed-time SECONDS  指定时间之后触发限速. 默认 30</span><br><span class="line">     --ssl           Try SSL&#x2F;TLS (FTP, IMAP, POP3, SMTP)</span><br><span class="line">     &#x2F;&#x2F;--ssl           尝试 SSL&#x2F;TLS (FTP, IMAP, POP3, SMTP)</span><br><span class="line">     --ssl-reqd      Require SSL&#x2F;TLS (FTP, IMAP, POP3, SMTP)</span><br><span class="line">     &#x2F;&#x2F;--ssl-reqd      需要 SSL&#x2F;TLS (FTP, IMAP, POP3, SMTP)</span><br><span class="line"> -2, --sslv2         Use SSLv2 (SSL)</span><br><span class="line"> &#x2F;&#x2F;-2, --sslv2         使用 SSLv2 (SSL)</span><br><span class="line"> -3, --sslv3         Use SSLv3 (SSL)</span><br><span class="line"> &#x2F;&#x2F;-3, --sslv3         使用 SSLv3 (SSL)</span><br><span class="line">     --ssl-allow-beast Allow security flaw to improve interop (SSL)</span><br><span class="line">     &#x2F;&#x2F;--ssl-allow-beast 允许安全缺陷改进互操作 (SSL)</span><br><span class="line">     --stderr FILE   Where to redirect stderr. - means stdout</span><br><span class="line">     &#x2F;&#x2F;--stderr FILE   重定向 stderr 的文件位置, 默认 stdout</span><br><span class="line">     --tcp-nodelay   Use the TCP_NODELAY option</span><br><span class="line">     &#x2F;&#x2F;--tcp-nodelay   使用 TCP_NODELAY 选项</span><br><span class="line"> -t, --telnet-option OPT&#x3D;VAL  Set telnet option</span><br><span class="line"> &#x2F;&#x2F;-t, --telnet-option OPT&#x3D;VAL  设置 telnet 选项</span><br><span class="line">     --tftp-blksize VALUE  Set TFTP BLKSIZE option (must be &gt;512)</span><br><span class="line">     &#x2F;&#x2F;--tftp-blksize VALUE  设备 TFTP BLKSIZE 选项 (必须 &gt;512)</span><br><span class="line"> -z, --time-cond TIME  Transfer based on a time condition</span><br><span class="line"> &#x2F;&#x2F;-z, --time-cond TIME  基于时间条件的传输</span><br><span class="line"> -1, --tlsv1         Use &#x3D;&gt; TLSv1 (SSL)</span><br><span class="line"> &#x2F;&#x2F;-1, --tlsv1         使用TLSv1 (SSL)</span><br><span class="line">     --tlsv1.0       Use TLSv1.0 (SSL)</span><br><span class="line">     &#x2F;&#x2F;--tlsv1.0       使用TLSv1.0 (SSL)</span><br><span class="line">     --tlsv1.1       Use TLSv1.1 (SSL)</span><br><span class="line">     &#x2F;&#x2F;--tlsv1.1       使用TLSv1.1 (SSL)</span><br><span class="line">     --tlsv1.2       Use TLSv1.2 (SSL)</span><br><span class="line">     &#x2F;&#x2F;--tlsv1.2       使用TLSv1.2 (SSL)</span><br><span class="line">     --trace FILE    Write a debug trace to the given file</span><br><span class="line">     &#x2F;&#x2F;--trace FILE    将 debug 信息写入指定的文件</span><br><span class="line">     --trace-ascii FILE  Like --trace but without the hex output</span><br><span class="line">     &#x2F;&#x2F;--trace-ascii FILE  类似 --trace 但使用16进度输出</span><br><span class="line">     --trace-time    Add time stamps to trace&#x2F;verbose output</span><br><span class="line">     &#x2F;&#x2F;--trace-time    向 trace&#x2F;verbose 输出添加时间戳</span><br><span class="line">     --tr-encoding   Request compressed transfer encoding (H)</span><br><span class="line">     &#x2F;&#x2F;--tr-encoding   请求压缩传输编码 (HTTP&#x2F;HTTPS可用)</span><br><span class="line"> -T, --upload-file FILE  Transfer FILE to destination</span><br><span class="line"> &#x2F;&#x2F;-T, --upload-file FILE   将文件传输（上传）到目的地址</span><br><span class="line">     --url URL       URL to work with</span><br><span class="line">     &#x2F;&#x2F;--url URL       指定所使用的 URL</span><br><span class="line"> -B, --use-ascii     Use ASCII&#x2F;text transfer</span><br><span class="line"> &#x2F;&#x2F;-B, --use-ascii     使用 ASCII&#x2F;text 传输</span><br><span class="line"> -u, --user USER[:PASSWORD]  Server user and password</span><br><span class="line"> &#x2F;&#x2F;-u, --user USER[:PASSWORD]  指定服务器认证用户名、密码</span><br><span class="line">     --tlsuser USER  TLS username</span><br><span class="line">     &#x2F;&#x2F;--tlsuser USER  TLS 用户名</span><br><span class="line">     --tlspassword STRING TLS password</span><br><span class="line">     &#x2F;&#x2F;--tlspassword STRING TLS 密码</span><br><span class="line">     --tlsauthtype STRING  TLS authentication type (default SRP)</span><br><span class="line">     &#x2F;&#x2F;-tlsauthtype STRING  TLS 认证类型 (默认 SRP)</span><br><span class="line">     --unix-socket FILE    Connect through this UNIX domain socket</span><br><span class="line">     &#x2F;&#x2F;--unix-socket FILE    指定 UNIX socket 域连接</span><br><span class="line"> -A, --user-agent STRING  User-Agent to send to server (H)</span><br><span class="line"> &#x2F;&#x2F;-A, --user-agent STRING  设置要发送到服务器的 User-Agent (HTTP&#x2F;HTTPS可用)</span><br><span class="line"> -v, --verbose       Make the operation more talkative</span><br><span class="line"> &#x2F;&#x2F;-v, --verbose       显示详细操作信息</span><br><span class="line"> -V, --version       Show version number and quit</span><br><span class="line"> &#x2F;&#x2F;-V, --version       显示版本号并退出</span><br><span class="line"> -w, --write-out FORMAT  What to output after completion</span><br><span class="line"> &#x2F;&#x2F;-w, --write-out FORMAT  用于在一次完整且成功的操作后输出指定格式的内容到标准输出</span><br><span class="line">     --xattr        Store metadata in extended file attributes</span><br><span class="line">     &#x2F;&#x2F;--xattr        将元数据存储在扩展文件属性中</span><br><span class="line"> -q                 If used as the first parameter disables .curlrc</span><br><span class="line"> &#x2F;&#x2F;-q                 如果作为第一个参数, .curlrc 中的设置无效。 curl会在程序启动时会自动尝试读取用户家目录中的.curlrc文件。</span><br></pre></td></tr></table></figure><h2 id="命令速记-译"><a href="#命令速记-译" class="headerlink" title="命令速记[译]"></a>命令速记[<a href="https://curl.haxx.se/docs/manual.html" target="_blank" rel="noopener">译</a>]</h2><h3 id="基础案例"><a href="#基础案例" class="headerlink" title="基础案例"></a>基础案例</h3><ul><li><p>请求个人blog主页</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl https://wangjstu.github.io/</span><br></pre></td></tr></table></figure></li><li><p>请求funet的ftp的README文件</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl ftp://ftp.funet.fi/README</span><br></pre></td></tr></table></figure></li><li><p>通过端口8000获取某主页</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl http://www.weirdserver.com:8000/</span><br></pre></td></tr></table></figure></li><li><p>获取ftp站点的目录列表</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl ftp://ftp.funet.fi/</span><br></pre></td></tr></table></figure></li><li><p>通过字典查询单词</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">//Aliases for ‘m’ are ‘match’ and ‘find’, and aliases for ‘d’ are ‘define’ and ‘lookup’</span><br><span class="line"><span class="meta">#</span><span class="bash"> 查询bash单词的含义</span></span><br><span class="line">curl dict://dict.org/d:bash </span><br><span class="line"><span class="meta">#</span><span class="bash"> 列出所有可用词典</span></span><br><span class="line">curl dict://dict.org/show:db</span><br><span class="line"><span class="meta">#</span><span class="bash"> 在foldoc词典中查询bash单词的含义</span></span><br><span class="line">curl dict://dict.org/d:bash:foldoc</span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看curl的定义</span></span><br><span class="line">curl dict://dict.org/m:curl</span><br></pre></td></tr></table></figure></li><li><p>一次请求两个页面</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl ftp://cool.haxx.se/ http://www.weirdserver.com:8000/</span><br></pre></td></tr></table></figure></li><li><p>获取ftps上文件</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl ftps://files.are.secure.com/secrets.txt</span><br></pre></td></tr></table></figure></li><li><p>获取ftps上文件</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">直接使用ftps协议</span></span><br><span class="line">curl ftps://files.are.secure.com/secrets.txt</span><br><span class="line"><span class="meta">#</span><span class="bash">使用ftp协议，并增加ssl选项</span></span><br><span class="line">curl --ftp-ssl ftp://files.are.secure.com/secrets.txt</span><br></pre></td></tr></table></figure></li><li><p>通过ssh协议(SFTP)结合账号名获取一个文件</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -u username sftp://example.com/etc/issue</span><br></pre></td></tr></table></figure></li><li><p>通过ssh协议(SCP)结合私钥获取一个文件</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">密码不保护输入方式</span></span><br><span class="line">curl -u username: --key ~/.ssh/id_rsa  scp://example.com/~/file.txt</span><br><span class="line"><span class="meta">#</span><span class="bash">密码保护方式</span></span><br><span class="line">curl -u username: --key ~/.ssh/id_rsa --pass private_key_password   scp://example.com/~/file.txt</span><br></pre></td></tr></table></figure></li><li><p>访问已个IPV6站点下载文件</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl "http://[2001:1890:1112:1::20]/"</span><br></pre></td></tr></table></figure></li><li><p>访问SMB站点下载文件</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -u "domain\username:passwd" smb://server.example.com/share/file.txt</span><br></pre></td></tr></table></figure></li></ul><h3 id="下载保存到文件-Download-to-a-File"><a href="#下载保存到文件-Download-to-a-File" class="headerlink" title="下载保存到文件(Download to a File)"></a>下载保存到文件(Download to a File)</h3><ul><li><p>访问某站点主页并将主页另存为到本地</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -o thatpage.html http://www.netscape.com/</span><br></pre></td></tr></table></figure></li><li><p>访问某站点主页并将主页内容按URL最后文件名报错在本地，如果没有文件名，则报错</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl -O http://www.netscape.com/index.html</span><br><span class="line"><span class="meta">#</span><span class="bash">同时下载2个</span></span><br><span class="line">curl -O www.haxx.se/index.html -O curl.haxx.se/download.html</span><br></pre></td></tr></table></figure></li></ul><h3 id="使用普通认证-账号密码-Using-Passwords"><a href="#使用普通认证-账号密码-Using-Passwords" class="headerlink" title="使用普通认证(账号密码 Using Passwords)"></a>使用普通认证(账号密码 Using Passwords)</h3><ul><li><p>FTP</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">使用URL中传输账号名密码的格式请求认证</span><br><span class="line">curl ftp://name:passwd@machine.domain:port/full/path/to/file</span><br><span class="line">或者使用 -u 参数</span><br><span class="line">curl -u name:passwd ftp://machine.domain:port/full/path/to/file</span><br></pre></td></tr></table></figure></li><li><p>FTPS</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">更加推荐通过使用FTP：//和--ftp-ssl选项完成。</span><br></pre></td></tr></table></figure></li><li><p>SFTP/SCP</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">选项--key表示私钥，--pass表示密码，--pubkey表示公钥</span><br></pre></td></tr></table></figure></li><li><p>HTTP</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">支持以下两种方式:</span><br><span class="line">    curl http://name:passwd@machine.domain/full/path/to/file</span><br><span class="line">    curl -u name:passwd http://machine.domain/full/path/to/file</span><br><span class="line">第一种方式会由于URL规范中不能包含用户名和密码，虽然curl支持，但是通过代理时无法正常使用。</span><br><span class="line">HTTP提供了许多不同的身份验证方法，curl支持以下几种方法：Basic, Digest, NTLM and Negotiate (SPNEGO)。默认curl是Basic模式，可以使用--anyauth来与服务器选用一种更安全的方式。</span><br></pre></td></tr></table></figure></li><li><p>HTTPS</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">最常与私人证书一起使用：</span><br><span class="line"></span><br><span class="line">curl -k https://www.thesitetoauthenticate.com/test -v –key key.pem –cacert ca.pem –cert client.pem</span><br><span class="line"></span><br><span class="line">curl -X GET -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpYXQiOjE1MjgwMTY5MjIsImlkIjowLCJuYmYiOjE1MjgwMTY5MjIsInVzZXJuYW1lIjoiYWRtaW4ifQ.LjxrK9DuAwAzUD8-9v43NzWBN7HXsSLfebw92DKd1JQ" -H "Content-Type: application/json" https://127.0.0.1:8081/v1/user --cacert conf/server.crt --cert conf/server.crt --key conf/server.key</span><br></pre></td></tr></table></figure></li></ul><h3 id="代理-proxy"><a href="#代理-proxy" class="headerlink" title="代理(proxy)"></a>代理(proxy)</h3><p>curl支持HTTP及SOCKS代理，但是对FTP协议没有特别支持，不过可以HTTP及SOCKS的代理去向FTP传输文件。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">curl -x my-proxy:888 ftp://ftp.leachsite.com/README   //代理名字叫my-proxy，端口是888</span><br><span class="line">curl -u user:passwd -x my-proxy:888 http://www.get.this/        //使用需要账户的代理</span><br><span class="line">curl -U user:passwd -x my-proxy:888 http://www.get.this/</span><br><span class="line">curl --noproxy localhost,get.this -x my-proxy:888 http://www.get.this/   //本地请求不适用代理，可以用逗号分隔。使用--proxy1.0 (默认是用--proxy或-x)特指适用http1.0代理，--socks4 and --socks5特指使用SOCKS4 and SOCKS5代理。</span><br><span class="line">curl -u "username@ftp.server Proxy-Username:Remote-Pass"  --ftp-account Proxy-Password --upload-file local-file ftp://my-ftp.proxy.server:21/remote/upload/path/  //ftp使用代理上传文件</span><br></pre></td></tr></table></figure><h3 id="断点续传-Ranges"><a href="#断点续传-Ranges" class="headerlink" title="断点续传(Ranges)"></a>断点续传(Ranges)</h3><p>http 1.1支持断点续传，可以一部分一部分下载，curl使用 -r 参数。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl -r 0-99 http://www.get.this/   //获取前一百个字节</span><br><span class="line">curl -r -500 http://www.get.this/   //获取最后500个字节</span><br><span class="line">curl -r 0-99 ftp://www.get.this/README  //获取ftp中前100个字节，FTP中必须传起始位置截止位置</span><br></pre></td></tr></table></figure><h3 id="上传文件-Uploading-FTP-FTPS-SFTP-SCP-HTTP"><a href="#上传文件-Uploading-FTP-FTPS-SFTP-SCP-HTTP" class="headerlink" title="上传文件(Uploading[FTP/FTPS/SFTP/SCP/HTTP])"></a>上传文件(Uploading[FTP/FTPS/SFTP/SCP/HTTP])</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">curl -T - ftp://ftp.upload.com/myfile        //将标准输入的数据全部上传到ftp</span><br><span class="line">curl -T uploadfile -u user:passwd ftp://ftp.upload.com/myfile       //上传文件名为uploadfile到ftp，在ftp上命名为myfile，并使用用户名和密码</span><br><span class="line">curl -T uploadfile -u user:passwd ftp://ftp.upload.com/             //上传文件名为uploadfile到ftp，在ftp上名字同本地相同</span><br><span class="line">curl -T localfile -a ftp://ftp.upload.com/remotefile                //上唇本地文件localfile，追加到ftp上名为remotefile的文件中</span><br><span class="line">curl --proxytunnel -x proxy:port -T localfile ftp.upload.com        //使用允许上传文件的代理进行文件上传</span><br><span class="line">curl -T file.txt -u "domain\username:passwd"  smb://server.example.com/share/       //SMB、SMBS上传文件</span><br><span class="line">curl -T - http://www.upload.com/myfile          //http上传标准输入中的全部数据，这是PUT请求</span><br></pre></td></tr></table></figure><h3 id="debug追踪-Verbose-Debug"><a href="#debug追踪-Verbose-Debug" class="headerlink" title="debug追踪(Verbose / Debug)"></a>debug追踪(Verbose / Debug)</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl -v ftp://ftp.upload.com/       //-v参数可以用来查看curl请求失败时，server端返回的详细错误信息</span><br><span class="line">curl --trace trace.txt www.haxx.se      //--trace or --trace-ascii可以获取到更详细的追踪信息，并保存到本地的trace.txt文件中</span><br></pre></td></tr></table></figure><h3 id="查看返回头信息-Detailed-Information"><a href="#查看返回头信息-Detailed-Information" class="headerlink" title="查看返回头信息(Detailed Information)"></a>查看返回头信息(Detailed Information)</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl 可以使用 -I/--head 展示HTTP/FTP的头信息（仅展示头信息）。或使用-i/--include展示头信息及body。另外curl支持-D/--dump-header将body与头信息分开，头信息存储在单独制定的文件中，body返回展示。可以用来临时保存cookie等头信息。</span><br><span class="line">curl --dump-header headers.txt curl.haxx.se   //头信息保存在headers.txt</span><br></pre></td></tr></table></figure><h3 id="POST-HTTP"><a href="#POST-HTTP" class="headerlink" title="POST(HTTP)"></a>POST(HTTP)</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">-d 支持 application/x-www-form-urlencoded mime-type表单传输：</span><br><span class="line">curl -d "name=Rafael%20Sagula&amp;phone=3320780" http://www.where.com/guest.cgi //使用-d传输post参数，切记post参数要urlencode</span><br><span class="line"></span><br><span class="line">-F 支持 multipart/form-data 类型，如上传文件：</span><br><span class="line">curl -F "coolfiles=@fil1.gif;type=image/gif,fil2.txt,fil3.html"</span><br><span class="line">  http://www.post.com/postit.cgi //上传文件，并使用@fil1.gif从文件中读取内容，后面的;type=&lt;mime type&gt; 指定文件类型，本例子上传了三个文件fil1.gif，fil2.txt，fil3.html。可以使用@前缀来制定提交的内容为一个文件，也可以使用&lt;符号来提交文件中的内容。</span><br><span class="line"></span><br><span class="line">另外-F支持多个字段传输，多文件传输：</span><br><span class="line">curl -F "file=@cooltext.txt" -F "yourname=Daniel"</span><br><span class="line">  -F "filedescription=Cool text file with cool text inside"</span><br><span class="line">  http://www.post.com/postit.cgi</span><br><span class="line">curl -F "pictures=@dog.gif,cat.gif" $URL</span><br><span class="line">curl -F "docpicture=@dog.gif" -F "catpicture=@cat.gif" $URL</span><br><span class="line"></span><br><span class="line">另外可以使用  --form-string</span><br></pre></td></tr></table></figure><h3 id="Referrer"><a href="#Referrer" class="headerlink" title="Referrer"></a>Referrer</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -e www.coolsite.com http://www.showme.com/   //curl可以使用-e参数指定http请求头中的referred值</span><br></pre></td></tr></table></figure><h3 id="客户端请求标志头信息-User-Agent"><a href="#客户端请求标志头信息-User-Agent" class="headerlink" title="客户端请求标志头信息(User Agent)"></a>客户端请求标志头信息(User Agent)</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl -A 'Mozilla/3.0 (Win95; I)' http://www.nationsbank.com/ //-A或者--user-agent标志请求的客户端的标志头信息</span><br><span class="line"></span><br><span class="line">等同于 curl -H 'User-Agent: Mozilla/3.0 (Win95; I)' https://www.nationsbank.com/</span><br></pre></td></tr></table></figure><h3 id="Cookies"><a href="#Cookies" class="headerlink" title="Cookies"></a>Cookies</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">HTTP是无状态的，为了解决这个问题，一般HTTP服务端返回cookie信息格式如下：Set-Cookie: sessionid=boo123; path="/foo";用于对客户端进行唯一标志状态。传输cookie可以使用以下方法：</span><br><span class="line">curl -b "name=Daniel" www.sillypage.com</span><br><span class="line">curl -b headersfile www.example.com  //其中headersfile来自 curl --dump-header headers www.example.com， 或者使用-c参数，将cookie写入一个txt文本 curl -c cookies.txt www.example.com</span><br><span class="line">curl -b cookies.txt -c cookies.txt www.example.com //保存cookie，并及时使用cookie</span><br><span class="line">curl -L -b empty.txt www.example.com //请求跟随服务器的重定向，并带上cookie。</span><br></pre></td></tr></table></figure><h3 id="进度信息-Progress-Meter"><a href="#进度信息-Progress-Meter" class="headerlink" title="进度信息(Progress Meter)"></a>进度信息(Progress Meter)</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl请求时候经常返回如下信息</span><br><span class="line"><span class="meta">%</span><span class="bash"> Total    %   Received   %   Xferd   Average Speed Dload  Average Speed Upload        Time Total   Time Current  Time Left    CURR.Speed</span></span><br><span class="line">0  151M    0 38608    0     0   9406      0  4:41:43  0:00:04  4:41:39  9287</span><br></pre></td></tr></table></figure><p>以上信息表示：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">%</span><span class="bash">             - 整体传输完成百分比</span></span><br><span class="line">Total         - 整体传输的大小</span><br><span class="line"><span class="meta">%</span><span class="bash">             - 下载完成百分比</span></span><br><span class="line">Received      - 当前已下载的字节数</span><br><span class="line"><span class="meta">%</span><span class="bash">             - 上传完成百分比</span></span><br><span class="line">Xferd         - 当前已上传的字节数</span><br><span class="line">Average Speed Dload         - 平均下载速度</span><br><span class="line">Average Speed Upload        - 平均上传速度</span><br><span class="line">Time Total    - 预计完成全部传输所需的时间</span><br><span class="line">Time Current  - 当前所消耗的时间</span><br><span class="line">Time Left     - 预计完成剩余传输所需的时间</span><br><span class="line">Curr.Speed    - 最近5秒内平均传输速度(传输最开始5秒，该值是基于线路理论上的速度来计算的)</span><br></pre></td></tr></table></figure><h3 id="限速请求-Speed-Limit"><a href="#限速请求-Speed-Limit" class="headerlink" title="限速请求(Speed Limit)"></a>限速请求(Speed Limit)</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">curl -Y 3000 -y 60 www.far-away-site.com //如果速度小于300bytes/s，并持续1分钟，则终止curl</span><br><span class="line">curl -m 1800 -Y 3000 -y 60 www.far-away-site.com  //前面的限制，另外加一个限制，在30分钟时终止请求</span><br><span class="line">curl --limit-rate 10K www.far-away-site.com   //限制请求速度在10kb/s以下</span><br><span class="line">curl --limit-rate 10240 www.far-away-site.com  //同上，限制请求速度在10kb/s以下</span><br><span class="line">curl -T upload --limit-rate 1M ftp://uploadshereplease.com  //限制上传文件的速度在1Mb/s以下</span><br></pre></td></tr></table></figure><h3 id="配置信息-Config-File"><a href="#配置信息-Config-File" class="headerlink" title="配置信息(Config File)"></a>配置信息(Config File)</h3><p>curl 请求时会从本地home目录中的.curlrc （windows中是 _curlrc）中读取一些共用的配置信息，如proxy等:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> We want a 30 minute timeout:</span></span><br><span class="line">-m 1800</span><br><span class="line"><span class="meta">#</span><span class="bash">. .. and we use a proxy <span class="keyword">for</span> all accesses:</span></span><br><span class="line">proxy = proxy.our.domain.com:8080</span><br><span class="line"><span class="meta">#</span><span class="bash"> default url to get</span></span><br><span class="line">url = "http://help.with.curl.com/curlhelp.html"</span><br></pre></td></tr></table></figure><p>如果要阻止使用配置文件，使用-q参数：<code>curl -q www.thatsite.com</code><br>另外可以使用-K/–config来读取一些配置从stdin中：<code>echo &quot;user = user:passwd&quot; | curl -K - http://that.secret.site.com</code></p><h3 id="头信息-Extra-Headers"><a href="#头信息-Extra-Headers" class="headerlink" title="头信息(Extra Headers)"></a>头信息(Extra Headers)</h3><p>可以使用-H参数传输头信息到Server端，如<code>curl -H &quot;X-you-and-me: yes&quot; www.love.com</code><br><code>curl -H &quot;Host:&quot; www.server.com</code> 会发出异常的头信息。</p><h3 id="FTP-and-Path-Names"><a href="#FTP-and-Path-Names" class="headerlink" title="FTP and Path Names"></a>FTP and Path Names</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl ftp://user:passwd@my.site.com/README //从ftp的服务主目录下载README，相对地址</span><br><span class="line">curl ftp://user:passwd@my.site.com//README  //从ftp的服务器的根目录下下载README，绝对地址</span><br></pre></td></tr></table></figure><h3 id="SFTP-and-SCP-and-Path-Names"><a href="#SFTP-and-SCP-and-Path-Names" class="headerlink" title="SFTP and SCP and Path Names"></a>SFTP and SCP and Path Names</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -u $USER sftp://home.example.com/~/.bashrc  //sftp: 和 scp: URLs显示的是绝对地址，下载home目录中的文件</span><br></pre></td></tr></table></figure><h3 id="FTP-and-Firewalls"><a href="#FTP-and-Firewalls" class="headerlink" title="FTP and Firewalls"></a>FTP and Firewalls</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl -P - ftp.download.com              //使用默认网卡下载,即为使用端口地址,而不是使用PASV </span><br><span class="line">curl -P le0 ftp.download.com            //通过网卡le0下载ftp文件</span><br><span class="line">curl -P 192.168.0.10 ftp.download.com       //将本地IP置为 192.168.0.10 去下载</span><br></pre></td></tr></table></figure><h3 id="Network-Interface"><a href="#Network-Interface" class="headerlink" title="Network Interface"></a>Network Interface</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl --interface eth0:1 http://www.netscape.com/        //使用网卡eth0,端口1请求</span><br><span class="line">curl --interface 192.168.1.10 http://www.netscape.com/      //使用网络地址 192.168.1.10 来请求</span><br></pre></td></tr></table></figure><h3 id="HTTPS"><a href="#HTTPS" class="headerlink" title="HTTPS"></a>HTTPS</h3><p>安装了TLS(传输层安全)库之后，curl可以请求一般的https站点：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl https://www.secure-site.com</span><br></pre></td></tr></table></figure><p>另外，还支持客户端使用私有证书请求，但是请求中证书必须是PEM格式。如下是请求案例</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">curl -E &#x2F;path&#x2F;to&#x2F;cert.pem:password https:&#x2F;&#x2F;secure.site.com&#x2F;     &#x2F;&#x2F;使用密码+pem证书请求。这类请求如果未填写密码，则在收数据前会收到提示，填写密码</span><br><span class="line">curl -2 https:&#x2F;&#x2F;secure.site.com&#x2F;      &#x2F;&#x2F;部分站点需要特殊指定SSL或TLS版本， -3, -2 , -1 代表 SSLv3, SSLv2 , TLSv1</span><br><span class="line">curl -k -v –key key.pem –cacert ca.pem –cert client.pem https:&#x2F;&#x2F;www.thesitetoauthenticate.com&#x2F;test </span><br><span class="line">curl -k -v -4 --tlsv1.2 --cert client.pem --key key.pem https:&#x2F;&#x2F;www.thesitetoauthenticate.com&#x2F;test</span><br></pre></td></tr></table></figure><p>一般申请的证书都是PIE((Personal Information Exchange)，可以通过以下方式转换为pem：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">1) 第一类：密码+证书</span><br><span class="line">使用openssl转换：openssl pkcs12 -in abcd.pfx -out abcd.pem</span><br><span class="line">根据提示输入口令及密码(Enter a passphrase and a password)，这类应用于密码+证书的。</span><br><span class="line">2) 第二类：私钥、证书等三个客户端使用的文件：</span><br><span class="line">openssl pkcs12 -in abcd.pfx -out ca.pem -cacerts -nokeys</span><br><span class="line">openssl pkcs12 -in abcd.pfx -out client.pem -clcerts -nokeys</span><br><span class="line">openssl pkcs12 -in abcd.pfx -out key.pem -nocerts</span><br><span class="line">3) 使用方法:</span><br><span class="line">curl -k https://www.thesitetoauthenticate.com/test -v –key key.pem –cacert ca.pem –cert client.pem:</span><br></pre></td></tr></table></figure><h3 id="持续传输-Resuming-File-Transfers"><a href="#持续传输-Resuming-File-Transfers" class="headerlink" title="持续传输(Resuming File Transfers)"></a>持续传输(Resuming File Transfers)</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl -C - -o file ftp://ftp.server.com/path/file        //继续从ftp下载</span><br><span class="line">curl -C - -T file ftp://ftp.server.com/path/file        //继续上传文件到ftp</span><br><span class="line">curl -C - -o file http://www.server.com/        //从http服务端继续下载</span><br></pre></td></tr></table></figure><h3 id="Time-Conditions"><a href="#Time-Conditions" class="headerlink" title="Time Conditions"></a>Time Conditions</h3><p>If-Modified-Since与If-Unmodified-Since常用语静态文件缓存或断点续传下载等。先了解一下两者的区别：</p><ul><li>If-Unmodified-Since<blockquote><p>HTTP协议中的 If-Unmodified-Since 消息头用于请求之中，使得当前请求成为条件式请求：只有当资源在指定的时间之后没有进行过修改的情况下，服务器才会返回请求的资源，或是接受 POST 或其他 non-safe 方法的请求。如果所请求的资源在指定的时间之后发生了修改，那么会返回 412 (Precondition Failed) 错误。</p></blockquote></li></ul><blockquote><p>常见的应用场景有两种：</p></blockquote><blockquote><p>与 non-safe 方法如 POST 搭配使用，可以用来优化并发控制，例如在某些wiki应用中的做法：假如在原始副本获取之后，服务器上所存储的文档已经被修改，那么对其作出的编辑会被拒绝提交。<br>与含有 If-Range 消息头的范围请求搭配使用，用来确保新的请求片段来自于未经修改的文档。</p></blockquote><ul><li>If-Modified-Since<blockquote><p>If-Modified-Since 是一个条件式请求首部，服务器只在所请求的资源在给定的日期时间之后对内容进行过修改的情况下才会将资源返回，状态码为 200 。如果请求的资源从那时起未经修改，那么返回一个不带有消息主体的 304 响应，而在 Last-Modified 首部中会带有上次修改时间。 不同于 If-Unmodified-Since, If-Modified-Since 只可以用在 GET 或 HEAD 请求中。</p></blockquote></li></ul><blockquote><p>当与 If-None-Match 一同出现时，它（If-Modified-Since）会被忽略掉，除非服务器不支持 If-None-Match。</p></blockquote><blockquote><p>最常见的应用场景是来更新没有特定 ETag 标签的缓存实体。</p></blockquote><p>CURL也支持：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl -z local.html http://remote.server.com/remote.html     //如果服务器端文件更新则下载</span><br><span class="line">curl -z -local.html http://remote.server.com/remote.html       //如果本地文件较新，则下载远端</span><br><span class="line">curl -z "Jan 12 2012" http://remote.server.com/remote.html      //2012年1月12日后更新就下载</span><br></pre></td></tr></table></figure><h3 id="DICT"><a href="#DICT" class="headerlink" title="DICT"></a>DICT</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">别名m的意思是匹配（match)并查找(find)，而别名d是定义(define)并查找(lookup)的意思</span><br><span class="line">curl dict://dict.org/m:curl</span><br><span class="line">curl dict://dict.org/d:heisenbug:jargon</span><br><span class="line">curl dict://dict.org/d:daniel:web1913</span><br><span class="line">curl dict://dict.org/find:curl</span><br><span class="line">curl dict://dict.org/show:db  //列出所有可用词典</span><br><span class="line">curl dict://dict.org/show:strat</span><br><span class="line">curl dict://dict.org/d:bash:foldoc      //在foldoc词典中查询bash单词的含义</span><br></pre></td></tr></table></figure><h3 id="轻量目录访问协议-LDAP"><a href="#轻量目录访问协议-LDAP" class="headerlink" title="轻量目录访问协议(LDAP)"></a>轻量目录访问协议(LDAP)</h3><p>linux上需要安装OpenLDAP库，windows上需要安装WinLDAP。LDAP默认用LDAPv3，当失败时有机制调用LDAPv2。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">curl -B "ldap://ldap.frontec.se/o=frontec??sub?mail=*sth.frontec.se"</span><br><span class="line">curl -u user:passwd "ldap://ldap.frontec.se/o=frontec??sub?mail=*"</span><br><span class="line">curl "ldap://user:passwd@ldap.frontec.se/o=frontec??sub?mail=*"</span><br><span class="line">curl --ntlm "ldap://user:passwd@ldap.frontec.se/o=frontec??sub?mail=*"</span><br></pre></td></tr></table></figure><h3 id="环境变量-Environment-Variables"><a href="#环境变量-Environment-Variables" class="headerlink" title="环境变量(Environment Variables)"></a>环境变量(Environment Variables)</h3><p>curl会从环境变量中获取:http_proxy, HTTPS_PROXY, FTP_PROXY代理信息。可以通过ALL_PROXY设置所有都默认使用的代理，可以使用NO_PROXY设置不适用的代理。使用-x/–proxy 会覆盖这些环境变量。linux系统设置http/https proxy的方法，在文件 .bashrc 中添加，或者在/etc/bashrc或者/etc/profile中添加如下环境变量：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">export http_proxy=proxy_addr:port</span><br><span class="line">export ftp_proxy=proxy_addr:port</span><br><span class="line">export https_proxy=proxy_addr:port</span><br><span class="line">如:</span><br><span class="line">export http_proxy="192.168.0.1:8080"</span><br><span class="line">export no_proxy='a.test.com,127.0.0.1,2.2.2.2'</span><br><span class="line">export http_proxy=http://easwy:123456@192.168.1.1:8080 //如果密码或用户名中有特殊字符，例如&lt;，可以用 \&lt; 来转义</span><br></pre></td></tr></table></figure><h3 id="netrc"><a href="#netrc" class="headerlink" title="netrc"></a>netrc</h3><p>文件.netrc用于设置自动登录时所需要的帐号信息。下面是一个常用的”netrc”文件的内容：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">machine somehost.com login username password passwd</span><br><span class="line">default login username password passwd</span><br></pre></td></tr></table></figure><p>curl支持-n/–netrc 和 –netrc-optional 命令参数指向使用netrc。</p><h3 id="自定义输出-Custom-Output"><a href="#自定义输出-Custom-Output" class="headerlink" title="自定义输出(Custom Output)"></a>自定义输出(Custom Output)</h3><p>-w/–write-out参数用于在一次完整且成功的操作后输出指定格式的内容到标准输出。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">curl -w &#39;We downloaded %&#123;size_download&#125; bytes\n&#39; www.baidu.com  &#x2F;&#x2F;自定义输出下载了多大的文件</span><br><span class="line">curl -s -m 10 -o &#x2F;dev&#x2F;null -w %&#123;http_code&#125; https:&#x2F;&#x2F;www.baidu.com   &#x2F;&#x2F;取URL返回状态码</span><br></pre></td></tr></table></figure><p>支持参数参见<a href="https://ec.haxx.se/usingcurl-writeout.html" target="_blank" rel="noopener">该文档</a></p><h3 id="Kerberos-FTP传输"><a href="#Kerberos-FTP传输" class="headerlink" title="Kerberos FTP传输"></a>Kerberos FTP传输</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl --krb private ftp://krb4site.com -u username:fakepwd</span><br></pre></td></tr></table></figure><h3 id="TELNET"><a href="#TELNET" class="headerlink" title="TELNET"></a>TELNET</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl telnet://remote.server.com       //向远端服务器访问，将stdin输入的数据传到远端，可以用-o将stdout输出到文件，-N/--no-buffer关闭输出</span><br><span class="line">curl -tTTYPE=vt100 telnet://remote.server.com  //使用-t选项将选项传递给telnet协议协商。要告诉服务器我们使用vt100终端</span><br></pre></td></tr></table></figure><h3 id="持久连接-Persistent-Connections"><a href="#持久连接-Persistent-Connections" class="headerlink" title="持久连接(Persistent Connections)"></a>持久连接(Persistent Connections)</h3><p>在一个命令行中指定多个文件将使curl按指定的顺序依次传输所有文件。libcurl将尝试为传输使用持久连接，这样到同一主机的第二个传输就可以使用在前一个传输中已经启动并处于打开状态的连接。这大大减少了除了第一次传输之外的所有连接时间，并且更好地利用了网络。请注意，curl不能对在随后的curl调用中使用的传输使用持久连接。如果使用相同的主机，尝试在相同的命令行中填充尽可能多的url，因为这会使传输更快。如果使用HTTP代理进行文件传输，实际上所有传输都是持久的。</p><h3 id="单命令多请求-Multiple-Transfers-With-A-Single-Command-Line"><a href="#单命令多请求-Multiple-Transfers-With-A-Single-Command-Line" class="headerlink" title="单命令多请求(Multiple Transfers With A Single Command Line)"></a>单命令多请求(Multiple Transfers With A Single Command Line)</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl -O http://url.com/file.txt ftp://ftp.com/moo.exe -o moo.jpg  //第一个请求使用-O将获取到的文件保存到本地，命名为file.txt，第二个请求用-o ，另存为moo.jpg</span><br><span class="line">curl -T local1 ftp://ftp.com/moo.exe -T local2 ftp://ftp.com/moo2.txt //分别上传文件到两个ftp</span><br></pre></td></tr></table></figure><h3 id="IPv6"><a href="#IPv6" class="headerlink" title="IPv6"></a>IPv6</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">curl -g http://[2001:1890:1112:1::20]/overview.html</span><br><span class="line">curl -6 -d post 'http://2001:0:db8:1111:0:0:0:11:8091/'  //-4表示ipv4，-6表示ipv6</span><br><span class="line">curl -g -6 'http://[fe80::3ad1:35ff:fe08:cd%eth0]:80/'  //telnet -6 fe80::3ad1:35ff:fe08:cd%eth0 80</span><br><span class="line">curl --interface eth0 -g -6 'http://[2606:2800:220:1:248:1893:25c8:1946]:80/index.html' -H 'Host: www.example.com'</span><br></pre></td></tr></table></figure><h3 id="Metalink"><a href="#Metalink" class="headerlink" title="Metalink"></a>Metalink</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl --metalink http://www.example.com/example.metalink</span><br><span class="line">curl --metalink file://example.metalink</span><br></pre></td></tr></table></figure><h2 id="常见问题记"><a href="#常见问题记" class="headerlink" title="常见问题记"></a>常见问题记</h2><h3 id="官方常见问题"><a href="#官方常见问题" class="headerlink" title="官方常见问题"></a><a href="https://curl.haxx.se/docs/faq.html" target="_blank" rel="noopener">官方常见问题</a></h3><h3 id="F与-d区别"><a href="#F与-d区别" class="headerlink" title="-F与-d区别"></a>-F与-d区别</h3><ul><li>当form表单以enctype=multipart/form-data提交时，使用-F，常见场景是上传文件时,<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;form action="submit.cgi" method="post" enctype="multipart/form-data"&gt;</span><br><span class="line">   Name: &lt;input type="text" name="person"&gt;&lt;br&gt;</span><br><span class="line">   File: &lt;input type="file" name="secret"&gt;&lt;br&gt;</span><br><span class="line">   &lt;input type="submit" value="Submit"&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line"></span><br><span class="line">HTTP请求头如下:</span><br><span class="line">POST /submit.cgi HTTP/1.1</span><br><span class="line">Host: example.com</span><br><span class="line">User-Agent: curl/7.46.0</span><br><span class="line">Accept: */*</span><br><span class="line">Content-Length: 313</span><br><span class="line">Expect: 100-continue</span><br><span class="line">Content-Type: multipart/form-data; boundary=------------------------d74496d66958873e</span><br><span class="line">--------------------------d74496d66958873e</span><br><span class="line">Content-Disposition: form-data; name="person"</span><br><span class="line"></span><br><span class="line">anonymous</span><br><span class="line">--------------------------d74496d66958873e</span><br><span class="line">Content-Disposition: form-data; name="secret"; filename="file.txt"</span><br><span class="line">Content-Type: text/plain</span><br><span class="line"></span><br><span class="line">contents of the file</span><br><span class="line">--------------------------d74496d66958873e--</span><br><span class="line"></span><br><span class="line">使用案例：curl -F 'name=Dan'-F secret=@file.txt  -H 'Content-Type: multipart/magic' https://example.com</span><br></pre></td></tr></table></figure></li></ul><ul><li>当form表单以application/x-www-form-urlencoded(默认)提交时，使用-d将’name=value’键值对进行URL encode，保证安全。当使用-d传输原数据或json格式时，记得修改Content-Type。</li></ul><h3 id="PUT-请求如何发"><a href="#PUT-请求如何发" class="headerlink" title="PUT 请求如何发"></a>PUT 请求如何发</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -d "data to PUT" -X PUT http://example.com/new/resource/file</span><br></pre></td></tr></table></figure><h3 id="http2-http3如何发请求"><a href="#http2-http3如何发请求" class="headerlink" title="http2 http3如何发请求"></a>http2 http3如何发请求</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl --http2 http://example.com/</span><br><span class="line">curl --http3 https://example.com/</span><br></pre></td></tr></table></figure><h3 id="curl-HTTP-cheat-sheet"><a href="#curl-HTTP-cheat-sheet" class="headerlink" title="curl HTTP cheat sheet"></a>curl HTTP cheat sheet</h3><table><thead><tr><th>Verbose</th><th>Hide progress</th><th>extra info</th><th>Write output</th><th>Timeout</th></tr></thead><tbody><tr><td>-v</td><td>-s</td><td>-w “format”</td><td>-O</td><td>-m<secs></secs></td></tr><tr><td>–trace-ascii<file></file></td><td></td><td></td><td>-o<file></file></td><td></td></tr><tr><td><strong>POST</strong></td><td><strong>multipart</strong></td><td><strong>PUT</strong></td><td><strong>HEAD</strong></td><td><strong>custom</strong></td></tr><tr><td>-d “string”</td><td>-F name=value</td><td>-T<file></file></td><td>-I</td><td>-X “METHOD”</td></tr><tr><td>-d @file</td><td>-F name=@file</td><td></td><td></td><td></td></tr><tr><td><strong>Basic auth</strong></td><td><strong>read cookies</strong></td><td><strong>write cookies</strong></td><td><strong>send cookies</strong></td><td><strong>user-agent</strong></td></tr><tr><td>-u user:password</td><td>-b<file></file></td><td>-c<file></file></td><td>-b “c=1; d=2”</td><td>-A “string”</td></tr><tr><td><strong>Use proxy</strong></td><td><strong>Headers, add/remove</strong></td><td><strong>follow redirs</strong></td><td><strong>gzip</strong></td><td><strong>insecure</strong></td></tr><tr><td>-x <a href="host:port">host:port</a></td><td>-H “name: value”</td><td>-L</td><td>–compressed</td><td>-k</td></tr><tr><td></td><td>-H “name:”</td><td></td><td></td><td></td></tr></tbody></table><hr><h2 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档:"></a>参考文档:</h2><ul><li><a href="https://curl.haxx.se/docs/manpage.html" target="_blank" rel="noopener">curl 文档主页</a></li><li><a href="https://curl.haxx.se/docs/manual.html" target="_blank" rel="noopener">curl 帮助指南</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Authentication" target="_blank" rel="noopener">HTTP Authentication</a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/If-Modified-Since" target="_blank" rel="noopener">HTTP HEADERS</a></li><li><a href="https://ec.haxx.se/usingcurl-writeout.html" target="_blank" rel="noopener">usingcurl-writeout</a></li><li><a href="https://curl.haxx.se/docs/httpscripting.html" target="_blank" rel="noopener">HTTP Scripting</a></li></ul></div><div class="article-footer"><blockquote class="mt-2x"><ul class="post-copyright list-unstyled"><li class="post-copyright-link hidden-xs"><strong>本文链接：</strong> <a href="http://wangjstu.github.io/2020/07/05/linux-curl-handbook/" title="Linux curl handbook" target="_blank" rel="external">http://wangjstu.github.io/2020/07/05/linux-curl-handbook/</a></li><li class="post-copyright-license"><strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="http://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external">CC BY 4.0 CN协议</a> 许可协议。转载请注明出处！</li></ul></blockquote><div class="panel panel-default panel-badger"><div class="panel-body"><figure class="media"><div class="media-left"><a href="https://github.com/wangjstu" target="_blank" class="img-burn thumb-sm visible-lg"><img src="/images/avatar.jpg" class="img-rounded w-full" alt=""></a></div><div class="media-body"><h3 class="media-heading"><a href="https://github.com/wangjstu" target="_blank"><span class="text-dark">wangjstu</span><small class="ml-1x">Web Developer</small></a></h3><div>一个程序员。</div></div></figure></div></div></div></article><section id="comments"></section></div><nav class="bar bar-footer clearfix" data-stick-bottom><div class="bar-inner"><ul class="pager pull-left"><li class="prev"><a href="/2020/07/05/hello-world/" title="Hello World"><i class="icon icon-angle-left" aria-hidden="true"></i><span>&nbsp;&nbsp;上一篇</span></a></li><li class="toggle-toc"><a class="toggle-btn collapsed" data-toggle="collapse" href="#collapseToc" aria-expanded="false" title="文章目录" role="button"><span>[&nbsp;</span><span>文章目录</span> <i class="text-collapsed icon icon-anchor"></i> <i class="text-in icon icon-close"></i> <span>]</span></a></li></ul><button type="button" class="btn btn-fancy btn-donate pop-onhover bg-gradient-warning" data-toggle="modal" data-target="#donateModal"><span>赏</span></button><div class="bar-right"><div class="share-component" data-sites="weibo" data-mobile-sites="weibo"></div></div></div></nav><div class="modal modal-center modal-small modal-xs-full fade" id="donateModal" tabindex="-1" role="dialog"><div class="modal-dialog" role="document"><div class="modal-content donate"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><div class="modal-body"><div class="donate-box"><div class="donate-head"><p>感谢您的支持，我会继续努力的!</p></div><div class="tab-content"><div role="tabpanel" class="tab-pane fade active in" id="alipay"><div class="donate-payimg"><img src="/images/donate/alipayimg.png" alt="扫码支持" title="扫一扫"></div><p class="text-muted mv">扫码打赏，你说多少就多少</p><p class="text-grey">打开支付宝扫一扫，即可进行扫码打赏哦</p></div><div role="tabpanel" class="tab-pane fade" id="wechatpay"><div class="donate-payimg"><img src="/images/donate/wechatpayimg.png" alt="扫码支持" title="扫一扫"></div><p class="text-muted mv">扫码打赏，你说多少就多少</p><p class="text-grey">打开微信扫一扫，即可进行扫码打赏哦</p></div></div><div class="donate-footer"><ul class="nav nav-tabs nav-justified" role="tablist"><li role="presentation" class="active"><a href="#alipay" id="alipay-tab" role="tab" data-toggle="tab" aria-controls="alipay" aria-expanded="true"><i class="icon icon-alipay"></i> 支付宝</a></li><li role="presentation"><a href="#wechatpay" role="tab" id="wechatpay-tab" data-toggle="tab" aria-controls="wechatpay" aria-expanded="false"><i class="icon icon-wepay"></i> 微信支付</a></li></ul></div></div></div></div></div></div></main><footer class="footer" itemscope itemtype="http://schema.org/WPFooter"><ul class="social-links"><li><a href="https://github.com/wangjstu" target="_blank" title="Github" data-toggle="tooltip" data-placement="top"><i class="icon icon-github"></i></a></li><li><a href="http://weibo.com/HOT_IDEAL" target="_blank" title="Weibo" data-toggle="tooltip" data-placement="top"><i class="icon icon-weibo"></i></a></li><li><a href="/atom.xml" target="_blank" title="Rss" data-toggle="tooltip" data-placement="top"><i class="icon icon-rss"></i></a></li></ul><div class="copyright"><div class="publishby">Theme by <a href="https://github.com/cofess" target="_blank">cofess </a>base on <a href="https://github.com/cofess/hexo-theme-pure" target="_blank">pure</a>.</div></div><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_site_pv">本站总访问量<span id="busuanzi_value_site_pv"></span>次</span></footer><script src="//cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script><script>window.jQuery||document.write('<script src="js/jquery.min.js"><\/script>')</script><script src="/js/plugin.min.js"></script><script src="/js/application.js"></script><script>!function(T){var N={TRANSLATION:{POSTS:"文章",PAGES:"页面",CATEGORIES:"分类",TAGS:"标签",UNTITLED:"(未命名)"},ROOT_URL:"/",CONTENT_URL:"/content.json"};T.INSIGHT_CONFIG=N}(window)</script><script src="/js/insight.js"></script><script src="//cdn.jsdelivr.net/npm/gitalk@1.4.0/dist/gitalk.min.js"></script><script src="//cdn.jsdelivr.net/npm/blueimp-md5@2.10.0/js/md5.min.js"></script><script type="text/javascript">var gitalk=new Gitalk({clientID:"65814809cee465444671",clientSecret:"e4f9f3f82f6b065687cc1c7f7229ff8d133254d7",repo:"wangjstu.github.io",owner:"wangjstu",admin:["wangjstu"],id:md5(location.pathname),distractionFreeMode:!0});gitalk.render("comments")</script></body></html><!-- rebuild by neat -->